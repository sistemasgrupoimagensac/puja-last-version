document.addEventListener("DOMContentLoaded",()=>{const c=document.querySelector("#page-contact-message");c.addEventListener("input",r);function r(){c.style.height="auto",c.style.height=this.scrollHeight+"px"}document.getElementById("send-page-contact").addEventListener("click",t=>{t.preventDefault(),i(),a(contactoUrl)});function a(t){let o=document.getElementById("page-contact-formData"),n=new FormData(o);fetch(t,{method:"POST",headers:{"X-CSRF-TOKEN":"{{ csrf_token() }}"},body:n}).then(e=>e.ok?e.json():e.text().then(d=>{throw new Error(`HTTP ${e.status}: ${d}`)})).then(e=>{e.status=="Success"?(alert("Enviado Correctamente ¡Pronto nos pondremos en contacto con usted!"),o.reset(),window.location.href="/"):l(e.errors)}).catch(e=>{console.error("Error capturado:",e),alert("Ocurrió un error. Revisa la consola para más detalles.")})}function l(t){console.log(t);for(const o in t){const n=document.querySelector(`[name="${o}"]`),e=document.getElementById(`validationServer${s(o)}Feedback`);console.log(n),n&&e&&(n.classList.add("is-invalid"),n.getAttribute("id")==="terminos"?e.textContent="Acepte los términos":e.textContent=t[o][0])}}function i(){document.querySelectorAll(".is-invalid").forEach(n=>{n.classList.remove("is-invalid")}),document.querySelectorAll(".invalid-feedback").forEach(n=>{n.textContent=""})}function s(t){return t.charAt(0).toUpperCase()+t.slice(1)}});
