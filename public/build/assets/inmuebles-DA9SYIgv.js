const l=document.querySelector("#preciominimo"),d=document.querySelector("#preciomaximo"),u=document.querySelector("#preciominimo_modal"),m=document.querySelector("#preciomaximo_modal");l.addEventListener("change",()=>v(l,d));d.addEventListener("change",()=>y(d,l));u.addEventListener("change",()=>v(u,m));m.addEventListener("change",()=>y(m,u));const p=document.querySelector("#areaminima"),f=document.querySelector("#areamaxima");p.addEventListener("change",()=>v(p,f));f.addEventListener("change",()=>y(f,p));function v(e,a){const t=parseInt(e.value),o=parseInt(a.value);t>o&&(a.value=null)}function y(e,a){const t=parseInt(a.value),o=parseInt(e.value);t>o&&(a.value=null)}const i=document.getElementById("formFilterInmueble"),g=document.querySelectorAll(".filters-dropdown-li.trasaction");document.getElementById("trasactionfiltertittle");g.forEach(function(e){e.addEventListener("click",function(a){a.preventDefault();const t=this.getAttribute("data-value");i.querySelectorAll('[name="transaccion"]').forEach(function(o){t==="todos"?o.checked=!1:o.value===t&&(o.checked=!0)}),i.submit()})});const _=document.querySelectorAll(".filters-dropdown-li.tipo");document.getElementById("tipofiltertittle");_.forEach(function(e){e.addEventListener("click",function(a){a.preventDefault();const t=this.getAttribute("data-value");i.querySelectorAll('[name="categoria"]').forEach(function(o){t==="todos"?o.checked=!1:o.value===t&&(o.checked=!0)}),i.submit()})});document.querySelectorAll(".filters-relevance .filters-dropdown-li").forEach(function(e){e.addEventListener("click",function(){const a=this.dataset.value,t=this.dataset.sort;E(a,t)})});function E(e,a){const t=document.querySelector(".filterAvisos-container"),o=Array.from(document.querySelectorAll(".filterAvisos-card"));o.sort(function(c,s){let r,n;switch(e){case"relevancia":r=new Date(c.dataset.relevancia),n=new Date(s.dataset.relevancia),console.log(`Comparando relevancia: ${r} y ${n}`);break;case"menor_precio_soles":case"mayor_precio_soles":r=parseFloat(c.dataset.precio_soles),n=parseFloat(s.dataset.precio_soles),console.log(`Comparando precios en soles: ${r} y ${n}`);break;case"menor_precio_dolares":case"mayor_precio_dolares":r=parseFloat(c.dataset.precio_dolares),n=parseFloat(s.dataset.precio_dolares),console.log(`Comparando precios en dólares: ${r} y ${n}`);break;case"recientes":r=new Date(c.dataset.reciente),n=new Date(s.dataset.reciente),console.log(`Comparando fechas: ${r} y ${n}`);break;case"vistos":r=parseInt(c.dataset.vistos),n=parseInt(s.dataset.vistos),console.log(`Comparando vistos: ${r} y ${n}`);break;default:return 0}const h=a==="asc"?r-n:n-r;return console.log(`Resultado de la comparación: ${h}`),h}),t.innerHTML="",o.forEach(function(c){t.appendChild(c)}),document.getElementById("relevanceFilterTittle").innerText=S(e)}function S(e){switch(e){case"menor_precio_soles":return"Menor precio Soles";case"mayor_precio_soles":return"Mayor precio Soles";case"menor_precio_dolares":return"Menor precio Dólares";case"mayor_precio_dolares":return"Mayor precio Dólares";case"recientes":return"Recientes";case"vistos":return"Más vistos";default:return"Relevancia"}}
