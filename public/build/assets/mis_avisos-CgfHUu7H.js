function a(o,n){document.getElementById("aviso-title-to-delete").innerText=o,document.getElementById("aviso-id-to-delete").value=n,document.getElementById("motivo-eliminacion").selectedIndex=0,document.getElementById("caja-text-motivo-eliminacion").classList.add("d-none")}window.setDeleteModal=a;document.getElementById("delete-aviso-btn").addEventListener("click",function(){const o=document.getElementById("aviso-id-to-delete").value;let n=document.getElementById("motivo-eliminacion").value;if(n==="otro"&&(n=document.getElementById("text-motivo-eliminacion").value),n.trim()===""){alert("Debe especificar un motivo de eliminaciÃ³n");return}fetch("/my-post/delete",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},body:JSON.stringify({aviso_id:o,motivo:n})}).then(e=>e.json()).then(e=>{e.htpp_code===200?(alert("Aviso eliminado correctamente."),location.reload()):alert("Hubo un error al eliminar el aviso.")}).catch(e=>{console.error("Error:",e)})});document.getElementById("motivo-eliminacion").addEventListener("change",function(){const o=document.getElementById("caja-text-motivo-eliminacion");this.value==="otro"?o.classList.remove("d-none"):o.classList.add("d-none")});function i(o,n,e){let t;e==3?t="Cancelar":e==7&&(t="Activar"),document.getElementById("aviso-cancelar-activar-main").innerText=t.toLocaleLowerCase(),document.getElementById("aviso-cancelar-activar").innerText=t,document.getElementById("aviso-cancelar-activar-acept").innerText=t,document.getElementById("aviso-title-to-cancel").innerText=o,document.getElementById("aviso-id-to-cancel").value=n,document.getElementById("aviso-estado-to-cancel").value=e}window.setCancelModal=i;document.getElementById("cancel-aviso-btn").addEventListener("click",function(){const o=document.getElementById("aviso-id-to-cancel").value,n=document.getElementById("aviso-estado-to-cancel").value,e={aviso_id:o,aviso_estado:n};fetch("/my-post/cancel",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},body:JSON.stringify(e)}).then(t=>t.json()).then(t=>{t.htpp_code===200?(alert("Aviso actualizado correctamente."),location.reload()):alert("Hubo un error al actualizar el aviso.")}).catch(t=>{console.error("Error:",t)})});
