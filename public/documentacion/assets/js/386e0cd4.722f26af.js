"use strict";(self.webpackChunkdocumentacion=self.webpackChunkdocumentacion||[]).push([[7110],{1642:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"tecnica/DT_Agregar_GoogleSheet_Proyecto","title":"Agregar GoogleSheet a Proyecto","description":"---","source":"@site/docs/tecnica/DT_Agregar_GoogleSheet_Proyecto.md","sourceDirName":"tecnica","slug":"/tecnica/DT_Agregar_GoogleSheet_Proyecto","permalink":"/documentacion/docs/tecnica/DT_Agregar_GoogleSheet_Proyecto","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":13,"frontMatter":{"sidebar_label":"Agregar GoogleSheet a Proyecto","sidebar_position":13,"title":"Agregar GoogleSheet a Proyecto"},"sidebar":"documentationSidebar","previous":{"title":"Manejo de Leads Proyecto","permalink":"/documentacion/docs/tecnica/DT_Manejo_Leads_Proyecto"},"next":{"title":"Registro en Puja Inmobiliaria","permalink":"/documentacion/docs/usuario/MU_Registro_Usuario"}}');var s=i(4848),o=i(8453);const l={sidebar_label:"Agregar GoogleSheet a Proyecto",sidebar_position:13,title:"Agregar GoogleSheet a Proyecto"},c="Documento T\xe9cnico: Agregar Google Sheet a un Proyecto Inmobiliario",a={},d=[{value:"1. Resumen",id:"1-resumen",level:2},{value:"2. Requisitos Funcionales Relacionados",id:"2-requisitos-funcionales-relacionados",level:2},{value:"3. Base de Datos Relacionada",id:"3-base-de-datos-relacionada",level:2},{value:"Tablas Implicadas",id:"tablas-implicadas",level:3},{value:"<strong>Tabla: <code>proyecto_contacts</code></strong>",id:"tabla-proyecto_contacts",level:4},{value:"<strong>Tabla: <code>proyecto_cliente_sheets</code></strong>",id:"tabla-proyecto_cliente_sheets",level:4},{value:"4. Relaci\xf3n de Tablas",id:"4-relaci\xf3n-de-tablas",level:2},{value:"5. APIs y Scripts",id:"5-apis-y-scripts",level:2},{value:"6. Controladores",id:"6-controladores",level:2},{value:"Controlador: <code>MyPostsController</code>",id:"controlador-mypostscontroller",level:3},{value:"M\xe9todo: <code>procesar_contacto_proyecto</code>",id:"m\xe9todo-procesar_contacto_proyecto",level:4},{value:"M\xe9todo: <code>sendToGoogleSheet</code>",id:"m\xe9todo-sendtogooglesheet",level:4},{value:"7. Configuraci\xf3n del Formulario de Google Sheet en Filament",id:"7-configuraci\xf3n-del-formulario-de-google-sheet-en-filament",level:2},{value:"Secci\xf3n: Configuraci\xf3n de Google Sheet",id:"secci\xf3n-configuraci\xf3n-de-google-sheet",level:4},{value:"Componentes del Formulario",id:"componentes-del-formulario",level:4},{value:"Funcionamiento General",id:"funcionamiento-general",level:4},{value:"Ventajas de la Implementaci\xf3n",id:"ventajas-de-la-implementaci\xf3n",level:4},{value:"8. Historial de Cambios",id:"8-historial-de-cambios",level:2}];function t(e){const n={br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"documento-t\xe9cnico-agregar-google-sheet-a-un-proyecto-inmobiliario",children:"Documento T\xe9cnico: Agregar Google Sheet a un Proyecto Inmobiliario"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"1-resumen",children:"1. Resumen"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Descripci\xf3n:"}),(0,s.jsx)(n.br,{}),"\n","Esta funcionalidad permite configurar un Google Sheet como herramienta externa para gestionar leads de proyectos inmobiliarios. Los datos del formulario de contacto se env\xedan autom\xe1ticamente al Google Sheet habilitado."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Prop\xf3sito:"}),(0,s.jsx)(n.br,{}),"\n","Facilitar la integraci\xf3n de recursos externos para la gesti\xf3n de leads y ofrecer una soluci\xf3n m\xe1s pr\xe1ctica y centralizada para los clientes."]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"2-requisitos-funcionales-relacionados",children:"2. Requisitos Funcionales Relacionados"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:(0,s.jsx)(n.strong,{children:"ID"})}),(0,s.jsx)(n.th,{children:(0,s.jsx)(n.strong,{children:"Nombre del Requisito"})}),(0,s.jsx)(n.th,{children:(0,s.jsx)(n.strong,{children:"Descripci\xf3n"})})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"RF013"})}),(0,s.jsx)(n.td,{children:"Agregar Google Sheet a un Proyecto"}),(0,s.jsx)(n.td,{children:"Configuraci\xf3n de un Google Sheet para proyectos."})]})})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"3-base-de-datos-relacionada",children:"3. Base de Datos Relacionada"}),"\n",(0,s.jsx)(n.h3,{id:"tablas-implicadas",children:"Tablas Implicadas"}),"\n",(0,s.jsx)(n.h4,{id:"tabla-proyecto_contacts",children:(0,s.jsxs)(n.strong,{children:["Tabla: ",(0,s.jsx)(n.code,{children:"proyecto_contacts"})]})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Prop\xf3sito:"})," Almacenar la informaci\xf3n de contactos interesados en proyectos inmobiliarios."]}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:(0,s.jsx)(n.strong,{children:"Columna"})}),(0,s.jsx)(n.th,{children:(0,s.jsx)(n.strong,{children:"Tipo"})}),(0,s.jsx)(n.th,{children:(0,s.jsx)(n.strong,{children:"Descripci\xf3n"})})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"id"}),(0,s.jsx)(n.td,{children:"BIGINT"}),(0,s.jsx)(n.td,{children:"Identificador \xfanico del contacto."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"proyecto_id"}),(0,s.jsx)(n.td,{children:"BIGINT"}),(0,s.jsxs)(n.td,{children:["Relaci\xf3n con la tabla ",(0,s.jsx)(n.code,{children:"proyectos"}),"."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"user_id"}),(0,s.jsx)(n.td,{children:"BIGINT"}),(0,s.jsxs)(n.td,{children:["Relaci\xf3n con la tabla ",(0,s.jsx)(n.code,{children:"users"}),"."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"status"}),(0,s.jsx)(n.td,{children:"STRING"}),(0,s.jsx)(n.td,{children:"Estado del contacto."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"full_name"}),(0,s.jsx)(n.td,{children:"STRING"}),(0,s.jsx)(n.td,{children:"Nombre completo del contacto."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"email"}),(0,s.jsx)(n.td,{children:"STRING"}),(0,s.jsx)(n.td,{children:"Correo electr\xf3nico del contacto."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"phone"}),(0,s.jsx)(n.td,{children:"STRING"}),(0,s.jsx)(n.td,{children:"Tel\xe9fono del contacto."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"message"}),(0,s.jsx)(n.td,{children:"TEXT"}),(0,s.jsx)(n.td,{children:"Mensaje enviado por el interesado."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"accept_terms"}),(0,s.jsx)(n.td,{children:"BOOLEAN"}),(0,s.jsx)(n.td,{children:"Aceptaci\xf3n de t\xe9rminos y condiciones."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"time"}),(0,s.jsx)(n.td,{children:"STRING"}),(0,s.jsx)(n.td,{children:"Horario preferido de contacto."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"created_at"}),(0,s.jsx)(n.td,{children:"TIMESTAMP"}),(0,s.jsx)(n.td,{children:"Fecha de creaci\xf3n del registro."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"updated_at"}),(0,s.jsx)(n.td,{children:"TIMESTAMP"}),(0,s.jsx)(n.td,{children:"Fecha de actualizaci\xf3n del registro."})]})]})]}),"\n",(0,s.jsx)(n.h4,{id:"tabla-proyecto_cliente_sheets",children:(0,s.jsxs)(n.strong,{children:["Tabla: ",(0,s.jsx)(n.code,{children:"proyecto_cliente_sheets"})]})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Prop\xf3sito:"})," Configurar y habilitar Google Sheet para proyectos inmobiliarios."]}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:(0,s.jsx)(n.strong,{children:"Columna"})}),(0,s.jsx)(n.th,{children:(0,s.jsx)(n.strong,{children:"Tipo"})}),(0,s.jsx)(n.th,{children:(0,s.jsx)(n.strong,{children:"Descripci\xf3n"})})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"id"}),(0,s.jsx)(n.td,{children:"BIGINT"}),(0,s.jsx)(n.td,{children:"Identificador \xfanico del registro."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"proyecto_cliente_id"}),(0,s.jsx)(n.td,{children:"BIGINT"}),(0,s.jsxs)(n.td,{children:["Relaci\xf3n con la tabla ",(0,s.jsx)(n.code,{children:"proyecto_clientes"}),"."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"google_sheet_url"}),(0,s.jsx)(n.td,{children:"STRING"}),(0,s.jsx)(n.td,{children:"URL del Google Sheet configurado."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"sheet_habilitado"}),(0,s.jsx)(n.td,{children:"BOOLEAN"}),(0,s.jsx)(n.td,{children:"Indica si el Google Sheet est\xe1 habilitado."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"created_at"}),(0,s.jsx)(n.td,{children:"TIMESTAMP"}),(0,s.jsx)(n.td,{children:"Fecha de creaci\xf3n del registro."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"updated_at"}),(0,s.jsx)(n.td,{children:"TIMESTAMP"}),(0,s.jsx)(n.td,{children:"Fecha de actualizaci\xf3n del registro."})]})]})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"4-relaci\xf3n-de-tablas",children:"4. Relaci\xf3n de Tablas"}),"\n",(0,s.jsx)(n.mermaid,{value:'erDiagram\r\n    proyecto_contacts {\r\n        BIGINT id PK\r\n        BIGINT proyecto_id FK\r\n        BIGINT user_id FK\r\n        STRING status\r\n        STRING full_name\r\n        STRING email\r\n        STRING phone\r\n        TEXT message\r\n        BOOLEAN accept_terms\r\n        STRING time\r\n        TIMESTAMP created_at\r\n        TIMESTAMP updated_at\r\n    }\r\n\r\n    proyecto_cliente_sheets {\r\n        BIGINT id PK\r\n        BIGINT proyecto_cliente_id FK\r\n        STRING google_sheet_url\r\n        BOOLEAN sheet_habilitado\r\n        TIMESTAMP created_at\r\n        TIMESTAMP updated_at\r\n    }\r\n\r\n    proyecto_contacts ||--o{ proyectos : "1:N"\r\n    proyecto_cliente_sheets ||--|| proyecto_clientes : "1:1"'}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"5-apis-y-scripts",children:"5. APIs y Scripts"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Ruta:"})," ",(0,s.jsx)(n.code,{children:"/procesar-contacto-proyecto"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Descripci\xf3n:"})," Procesa el formulario de contacto, almacena los datos en la base de datos y los env\xeda al Google Sheet del cliente."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"M\xe9todo:"})," ",(0,s.jsx)(n.code,{children:"POST"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Script de JS:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Gestiona el env\xedo del formulario y la validaci\xf3n de los datos ingresados."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"document.getElementById('btn-enviar-form-single').addEventListener('click', (e) => handleContactForm(e, 'correo'));\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"6-controladores",children:"6. Controladores"}),"\n",(0,s.jsxs)(n.h3,{id:"controlador-mypostscontroller",children:["Controlador: ",(0,s.jsx)(n.code,{children:"MyPostsController"})]}),"\n",(0,s.jsxs)(n.h4,{id:"m\xe9todo-procesar_contacto_proyecto",children:["M\xe9todo: ",(0,s.jsx)(n.code,{children:"procesar_contacto_proyecto"})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Descripci\xf3n:"}),(0,s.jsx)(n.br,{}),"\n","Este m\xe9todo es el n\xfacleo del proceso para gestionar contactos interesados en un proyecto inmobiliario. Realiza varias tareas, desde validar los datos del formulario hasta registrar el contacto en la base de datos, enviar correos electr\xf3nicos y actualizar un Google Sheet si est\xe1 habilitado."]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Validaci\xf3n del formulario:"}),(0,s.jsx)(n.br,{}),"\n","Se ejecuta la funci\xf3n ",(0,s.jsx)(n.code,{children:"validar_formulario_contacto"})," para verificar que los datos enviados desde el formulario cumplan con los requisitos especificados."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Si la validaci\xf3n falla, se retorna un mensaje de error al frontend con detalles espec\xedficos."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Recuperaci\xf3n del proyecto y su configuraci\xf3n:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Se busca el proyecto relacionado mediante el ",(0,s.jsx)(n.code,{children:"proyecto_id"})," recibido en la solicitud."]}),"\n",(0,s.jsxs)(n.li,{children:["Se obtienen las siguientes propiedades del proyecto:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"URL actual del proyecto:"})," para rastrear desde d\xf3nde provino el contacto."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Lista de contactos registrados del cliente:"})," para determinar a qui\xe9n se enviar\xe1n los correos electr\xf3nicos."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Configuraci\xf3n de Google Sheet:"})," para verificar si est\xe1 habilitado y disponible."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Registro del contacto en la base de datos:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Utiliza el m\xe9todo ",(0,s.jsx)(n.code,{children:"updateOrCreate"})," para evitar duplicados. Si un contacto ya existe con el mismo ",(0,s.jsx)(n.code,{children:"email"})," para el proyecto, se actualiza; de lo contrario, se crea uno nuevo."]}),"\n",(0,s.jsx)(n.li,{children:"Los datos guardados incluyen nombre, correo, tel\xe9fono, mensaje, tiempo de contacto preferido y la aceptaci\xf3n de t\xe9rminos."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Determinaci\xf3n de la acci\xf3n:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Si el usuario eligi\xf3 contactar v\xeda ",(0,s.jsx)(n.strong,{children:"WhatsApp"}),", simplemente se retorna un mensaje de \xe9xito para que el frontend lo maneje."]}),"\n",(0,s.jsxs)(n.li,{children:["Si el usuario eligi\xf3 ",(0,s.jsx)(n.strong,{children:"correo electr\xf3nico"}),", se inicia el env\xedo de correos electr\xf3nicos."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Env\xedo de correos electr\xf3nicos:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Se env\xeda un correo a cada contacto asociado al cliente del proyecto."}),"\n",(0,s.jsx)(n.li,{children:"Los correos se copian (CC) a un equipo de soporte y se ocultan (BCC) a un correo interno para monitoreo."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Env\xedo a Google Sheet (si est\xe1 habilitado):"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Si el proyecto tiene un Google Sheet habilitado, se env\xedan los datos del contacto al archivo configurado."}),"\n",(0,s.jsxs)(n.li,{children:["Se llama al m\xe9todo ",(0,s.jsx)(n.code,{children:"sendToGoogleSheet"})," con la URL del Google Sheet y los datos del contacto."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Respuesta al cliente:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Finalmente, se env\xeda una respuesta JSON con los detalles del contacto reci\xe9n creado y un mensaje de \xe9xito."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h4,{id:"m\xe9todo-sendtogooglesheet",children:["M\xe9todo: ",(0,s.jsx)(n.code,{children:"sendToGoogleSheet"})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Descripci\xf3n:"}),(0,s.jsx)(n.br,{}),"\n","Este m\xe9todo es responsable de enviar los datos del contacto a un archivo de Google Sheet del cliente si esta funcionalidad est\xe1 habilitada. Utiliza la API de Google Sheets para realizar esta operaci\xf3n."]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Configuraci\xf3n del cliente de Google Sheets:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Se inicializa un cliente con las credenciales almacenadas en el archivo ",(0,s.jsx)(n.code,{children:".env"}),". Estas credenciales corresponden a la cuenta de servicio de Google creada espec\xedficamente para la integraci\xf3n."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Extracci\xf3n del ID del Google Sheet:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"A partir de la URL del Google Sheet proporcionada, se extrae el ID del archivo mediante una expresi\xf3n regular. Este ID es necesario para interactuar con la API de Google Sheets."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Acceso a la hoja de c\xe1lculo:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Se accede al archivo de Google Sheet mediante su ID."}),"\n",(0,s.jsx)(n.li,{children:"Se selecciona la primera hoja (o pesta\xf1a) disponible en el archivo. Esta hoja ser\xe1 el destino de los datos."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Preparaci\xf3n de los datos:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Los datos del contacto (nombre, correo, tel\xe9fono, mensaje, fecha y hora de contacto) se organizan en un formato adecuado para Google Sheets."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Env\xedo de los datos:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Se utiliza el m\xe9todo ",(0,s.jsx)(n.code,{children:"append"})," de la API para agregar los datos como una nueva fila en la hoja de c\xe1lculo."]}),"\n",(0,s.jsx)(n.li,{children:'Se asegura que los datos se ingresen de manera "RAW" (sin ning\xfan formato especial).'}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Manejo de errores:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Si ocurre alg\xfan error durante el env\xedo, se lanza una excepci\xf3n para manejarlo adecuadamente en el proceso principal."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Relaci\xf3n entre los m\xe9todos:"}),(0,s.jsx)(n.br,{}),"\n","El m\xe9todo ",(0,s.jsx)(n.code,{children:"procesar_contacto_proyecto"})," se encarga de toda la l\xf3gica de negocio principal, mientras que ",(0,s.jsx)(n.code,{children:"sendToGoogleSheet"})," maneja espec\xedficamente la integraci\xf3n con Google Sheets. Ambos trabajan en conjunto para garantizar que los contactos interesados se procesen correctamente y se registren en todas las plataformas necesarias."]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"7-configuraci\xf3n-del-formulario-de-google-sheet-en-filament",children:"7. Configuraci\xf3n del Formulario de Google Sheet en Filament"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Descripci\xf3n:"}),(0,s.jsx)(n.br,{}),"\n","El formulario de administraci\xf3n en Filament incluye una secci\xf3n espec\xedfica para configurar la integraci\xf3n con Google Sheets para cada proyecto inmobiliario. Esta configuraci\xf3n permite habilitar o deshabilitar la integraci\xf3n y proporcionar la URL del Google Sheet correspondiente. A continuaci\xf3n, se describe la funcionalidad de cada campo y su interacci\xf3n."]}),"\n",(0,s.jsx)(n.h4,{id:"secci\xf3n-configuraci\xf3n-de-google-sheet",children:"Secci\xf3n: Configuraci\xf3n de Google Sheet"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Prop\xf3sito:"}),(0,s.jsx)(n.br,{}),"\n","Proporcionar una interfaz administrativa para configurar la integraci\xf3n de Google Sheets en cada proyecto inmobiliario. Esto incluye la habilitaci\xf3n de la funcionalidad y la especificaci\xf3n de la URL del Google Sheet."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h4,{id:"componentes-del-formulario",children:"Componentes del Formulario"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsxs)(n.strong,{children:["Toggle: ",(0,s.jsx)(n.code,{children:"Habilitar Google Sheet"})]})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Descripci\xf3n:"}),(0,s.jsx)(n.br,{}),"\n","Un bot\xf3n de activaci\xf3n/desactivaci\xf3n que permite habilitar o deshabilitar la integraci\xf3n con Google Sheets para el proyecto actual."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Detalles t\xe9cnicos:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Propiedad reactiva:"}),(0,s.jsx)(n.br,{}),"\n","El campo de la URL (",(0,s.jsx)(n.code,{children:"google_sheet_url"}),') est\xe1 deshabilitado por defecto. Solo se activa cuando el toggle est\xe1 en estado "habilitado".']}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Estilo:"}),(0,s.jsx)(n.br,{}),"\n",'Utiliza un color verde ("success") cuando est\xe1 habilitado.']}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Valor predeterminado:"}),(0,s.jsx)(n.br,{}),"\n","Est\xe1 desactivado (",(0,s.jsx)(n.code,{children:"false"}),") al inicializar el formulario."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Uso:"}),(0,s.jsx)(n.br,{}),"\n","Los administradores pueden decidir si un proyecto debe usar Google Sheets."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsxs)(n.strong,{children:["Campo de Texto: ",(0,s.jsx)(n.code,{children:"URL de Google Sheet"})]})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Descripci\xf3n:"}),(0,s.jsx)(n.br,{}),"\n","Campo para introducir la URL del Google Sheet proporcionada por el cliente."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Detalles t\xe9cnicos:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Validaci\xf3n:"}),(0,s.jsx)(n.br,{}),"\n","El campo acepta solo URLs v\xe1lidas y utiliza un marcador de posici\xf3n que indica el formato correcto (",(0,s.jsx)(n.code,{children:"https://docs.google.com/spreadsheets/..."}),")."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Desactivaci\xf3n condicional:"}),(0,s.jsx)(n.br,{}),"\n","Este campo permanece deshabilitado hasta que el toggle ",(0,s.jsx)(n.code,{children:"Habilitar Google Sheet"})," est\xe9 activado."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Reactivo:"}),(0,s.jsx)(n.br,{}),"\n","Cambia su estado din\xe1micamente en funci\xf3n del valor del toggle."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Uso:"}),(0,s.jsx)(n.br,{}),"\n","Los administradores deben pegar aqu\xed la URL del Google Sheet configurado para el cliente del proyecto inmobiliario."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h4,{id:"funcionamiento-general",children:"Funcionamiento General"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Habilitaci\xf3n de la integraci\xf3n:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Al activar el toggle ",(0,s.jsx)(n.code,{children:"Habilitar Google Sheet"}),", se desbloquea el campo de texto para ingresar la URL del Google Sheet. Esto permite asociar un Google Sheet espec\xedfico al proyecto."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Deshabilitaci\xf3n de la integraci\xf3n:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Si el toggle est\xe1 desactivado, la URL previamente ingresada queda inhabilitada y no se utilizar\xe1 en el procesamiento de contactos."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Persistencia de datos:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Los valores del toggle (",(0,s.jsx)(n.code,{children:"sheet_habilitado"}),") y la URL (",(0,s.jsx)(n.code,{children:"google_sheet_url"}),") se guardan en la tabla ",(0,s.jsx)(n.code,{children:"proyecto_cliente_sheets"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h4,{id:"ventajas-de-la-implementaci\xf3n",children:"Ventajas de la Implementaci\xf3n"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Modularidad:"}),(0,s.jsx)(n.br,{}),"\n","La secci\xf3n est\xe1 vinculada a la relaci\xf3n ",(0,s.jsx)(n.code,{children:"googleSheet"})," del modelo ",(0,s.jsx)(n.code,{children:"ProyectoCliente"}),", lo que asegura una integraci\xf3n clara y directa con la base de datos."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Experiencia de usuario:"}),(0,s.jsx)(n.br,{}),"\n","La configuraci\xf3n reactiva proporciona un flujo intuitivo para los administradores, evitando la introducci\xf3n de datos cuando la funcionalidad est\xe1 deshabilitada."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Flexibilidad:"}),(0,s.jsx)(n.br,{}),"\n","Permite a los administradores habilitar o deshabilitar la integraci\xf3n seg\xfan las necesidades del cliente."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Esta configuraci\xf3n es fundamental para garantizar que solo los proyectos que realmente requieren la integraci\xf3n con Google Sheets utilicen esta funcionalidad."}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"8-historial-de-cambios",children:"8. Historial de Cambios"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:(0,s.jsx)(n.strong,{children:"Versi\xf3n"})}),(0,s.jsx)(n.th,{children:(0,s.jsx)(n.strong,{children:"Fecha"})}),(0,s.jsx)(n.th,{children:(0,s.jsx)(n.strong,{children:"Cambios Realizados"})}),(0,s.jsx)(n.th,{children:(0,s.jsx)(n.strong,{children:"Autor"})})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"v1.0"}),(0,s.jsx)(n.td,{children:"11/12/2024"}),(0,s.jsx)(n.td,{children:"Documento t\xe9cnico inicial creado"}),(0,s.jsx)(n.td,{children:"Walker Alfaro"})]})})]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(t,{...e})}):t(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>c});var r=i(6540);const s={},o=r.createContext(s);function l(e){const n=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),r.createElement(o.Provider,{value:n},e.children)}}}]);