"use strict";(self.webpackChunkdocumentacion=self.webpackChunkdocumentacion||[]).push([[7950],{6609:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>d,metadata:()=>s,toc:()=>t});const s=JSON.parse('{"id":"tecnica/DT_005_01_crear_usuario_proyecto","title":"Documento T\xe9cnico: Crear Usuario Proyecto Inmobiliario","description":"---","source":"@site/docs/tecnica/DT_005_01_crear_usuario_proyecto.md","sourceDirName":"tecnica","slug":"/tecnica/DT_005_01_crear_usuario_proyecto","permalink":"/documentacion/docs/tecnica/DT_005_01_crear_usuario_proyecto","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"documentationSidebar","previous":{"title":"Documento T\xe9cnico: Publicar inmueble como Corredor","permalink":"/documentacion/docs/tecnica/DT_004_publicar_inmueble_corredor"},"next":{"title":"Documento T\xe9cnico: Publicar Proyecto Inmobiliario","permalink":"/documentacion/docs/tecnica/DT_005_publicar_proyecto"}}');var c=n(4848),i=n(8453);const d={},o="Documento T\xe9cnico: Crear Usuario Proyecto Inmobiliario",l={},t=[{value:"1. Resumen",id:"1-resumen",level:2},{value:"2. Requisitos Funcionales Relacionados",id:"2-requisitos-funcionales-relacionados",level:2},{value:"3. Base de Datos Relacionada",id:"3-base-de-datos-relacionada",level:2},{value:"Tablas Implicadas",id:"tablas-implicadas",level:3},{value:"Tabla: <code>proyecto_clientes</code>",id:"tabla-proyecto_clientes",level:4},{value:"Tabla: <code>users</code>",id:"tabla-users",level:4},{value:"Tabla: <code>proyecto_cronograma_pagos</code>",id:"tabla-proyecto_cronograma_pagos",level:4},{value:"Tabla: <code>plan_user</code>",id:"tabla-plan_user",level:4},{value:"4. Relaci\xf3n de Tablas",id:"4-relaci\xf3n-de-tablas",level:2},{value:"5. Componentes y Recursos Filament",id:"5-componentes-y-recursos-filament",level:2},{value:"<strong>Recurso: <code>ProyectoClienteResource</code></strong>",id:"recurso-proyectoclienteresource",level:3},{value:"Ruta: <code>app/Filament/Resources/ProyectoClienteResource.php</code>",id:"ruta-appfilamentresourcesproyectoclienteresourcephp",level:4},{value:"<strong>Formulario</strong>",id:"formulario",level:4},{value:"<strong>Recurso: <code>CreateProyectoCliente</code></strong>",id:"recurso-createproyectocliente",level:3},{value:"Ruta: <code>app\\Filament\\Resources\\ProyectoClienteResource\\Pages\\CreateProyectoCliente.php</code>",id:"ruta-appfilamentresourcesproyectoclienteresourcepagescreateproyectoclientephp",level:4},{value:"<strong>M\xe9todo: <code>mutateFormDataBeforeCreate</code></strong>",id:"m\xe9todo-mutateformdatabeforecreate",level:3},{value:"Ruta: <code>CreateProyectoCliente@mutateFormDataBeforeCreate</code>",id:"ruta-createproyectoclientemutateformdatabeforecreate",level:4},{value:"7. Historial de Cambios",id:"7-historial-de-cambios",level:2}];function a(e){const r={br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(r.header,{children:(0,c.jsx)(r.h1,{id:"documento-t\xe9cnico-crear-usuario-proyecto-inmobiliario",children:"Documento T\xe9cnico: Crear Usuario Proyecto Inmobiliario"})}),"\n",(0,c.jsx)(r.hr,{}),"\n",(0,c.jsx)(r.h2,{id:"1-resumen",children:"1. Resumen"}),"\n",(0,c.jsxs)(r.p,{children:[(0,c.jsx)(r.strong,{children:"Descripci\xf3n:"}),(0,c.jsx)(r.br,{}),"\n","Permite a un ejecutivo de cuenta crear un usuario del tipo ",(0,c.jsx)(r.strong,{children:"proyecto inmobiliario"})," basado en las negociaciones y contratos establecidos. Este proceso utiliza ",(0,c.jsx)(r.strong,{children:"Filament"})," para la gesti\xf3n de formularios y recursos."]}),"\n",(0,c.jsxs)(r.p,{children:[(0,c.jsx)(r.strong,{children:"Prop\xf3sito:"}),(0,c.jsx)(r.br,{}),"\n","Garantizar que los clientes tengan acceso a la plataforma para gestionar sus proyectos inmobiliarios y publicar anuncios."]}),"\n",(0,c.jsx)(r.hr,{}),"\n",(0,c.jsx)(r.h2,{id:"2-requisitos-funcionales-relacionados",children:"2. Requisitos Funcionales Relacionados"}),"\n",(0,c.jsxs)(r.table,{children:[(0,c.jsx)(r.thead,{children:(0,c.jsxs)(r.tr,{children:[(0,c.jsx)(r.th,{children:(0,c.jsx)(r.strong,{children:"ID"})}),(0,c.jsx)(r.th,{children:(0,c.jsx)(r.strong,{children:"Nombre del Requisito"})}),(0,c.jsx)(r.th,{children:(0,c.jsx)(r.strong,{children:"Descripci\xf3n"})})]})}),(0,c.jsx)(r.tbody,{children:(0,c.jsxs)(r.tr,{children:[(0,c.jsx)(r.td,{children:(0,c.jsx)(r.code,{children:"RF005_01"})}),(0,c.jsx)(r.td,{children:"Crear Usuario Proyecto Inmobiliario"}),(0,c.jsx)(r.td,{children:"Permite a un ejecutivo registrar clientes para publicar proyectos."})]})})]}),"\n",(0,c.jsx)(r.hr,{}),"\n",(0,c.jsx)(r.h2,{id:"3-base-de-datos-relacionada",children:"3. Base de Datos Relacionada"}),"\n",(0,c.jsx)(r.h3,{id:"tablas-implicadas",children:"Tablas Implicadas"}),"\n",(0,c.jsxs)(r.h4,{id:"tabla-proyecto_clientes",children:["Tabla: ",(0,c.jsx)(r.code,{children:"proyecto_clientes"})]}),"\n",(0,c.jsxs)(r.table,{children:[(0,c.jsx)(r.thead,{children:(0,c.jsxs)(r.tr,{children:[(0,c.jsx)(r.th,{children:(0,c.jsx)(r.strong,{children:"Columna"})}),(0,c.jsx)(r.th,{children:(0,c.jsx)(r.strong,{children:"Tipo"})}),(0,c.jsx)(r.th,{children:(0,c.jsx)(r.strong,{children:"Restricciones"})}),(0,c.jsx)(r.th,{children:(0,c.jsx)(r.strong,{children:"Descripci\xf3n"})})]})}),(0,c.jsxs)(r.tbody,{children:[(0,c.jsxs)(r.tr,{children:[(0,c.jsx)(r.td,{children:"id"}),(0,c.jsx)(r.td,{children:"BIGINT (PK)"}),(0,c.jsx)(r.td,{children:"AUTO_INCREMENT"}),(0,c.jsx)(r.td,{children:"Identificador \xfanico del proyecto."})]}),(0,c.jsxs)(r.tr,{children:[(0,c.jsx)(r.td,{children:"user_id"}),(0,c.jsx)(r.td,{children:"BIGINT (FK)"}),(0,c.jsx)(r.td,{children:"Constrained"}),(0,c.jsxs)(r.td,{children:["Relaci\xf3n con la tabla ",(0,c.jsx)(r.code,{children:"users"}),"."]})]}),(0,c.jsxs)(r.tr,{children:[(0,c.jsx)(r.td,{children:"razon_social"}),(0,c.jsx)(r.td,{children:"VARCHAR(255)"}),(0,c.jsx)(r.td,{children:"NOT NULL"}),(0,c.jsx)(r.td,{children:"Raz\xf3n social de la empresa."})]}),(0,c.jsxs)(r.tr,{children:[(0,c.jsx)(r.td,{children:"ruc"}),(0,c.jsx)(r.td,{children:"VARCHAR(255)"}),(0,c.jsx)(r.td,{children:"NOT NULL"}),(0,c.jsx)(r.td,{children:"N\xfamero de RUC de la empresa."})]}),(0,c.jsxs)(r.tr,{children:[(0,c.jsx)(r.td,{children:"direccion_fiscal"}),(0,c.jsx)(r.td,{children:"VARCHAR(255)"}),(0,c.jsx)(r.td,{children:"NOT NULL"}),(0,c.jsx)(r.td,{children:"Direcci\xf3n fiscal de la empresa."})]}),(0,c.jsxs)(r.tr,{children:[(0,c.jsx)(r.td,{children:"telefono_inmobiliaria"}),(0,c.jsx)(r.td,{children:"VARCHAR(255)"}),(0,c.jsx)(r.td,{children:"NOT NULL"}),(0,c.jsx)(r.td,{children:"Tel\xe9fono de contacto de la inmobiliaria."})]}),(0,c.jsxs)(r.tr,{children:[(0,c.jsx)(r.td,{children:"nombre_comercial"}),(0,c.jsx)(r.td,{children:"VARCHAR(255)"}),(0,c.jsx)(r.td,{}),(0,c.jsx)(r.td,{children:"Nombre comercial del proyecto inmobiliario."})]}),(0,c.jsxs)(r.tr,{children:[(0,c.jsx)(r.td,{children:"fecha_inicio_contrato"}),(0,c.jsx)(r.td,{children:"DATE"}),(0,c.jsx)(r.td,{children:"NOT NULL"}),(0,c.jsx)(r.td,{children:"Fecha de inicio del contrato."})]}),(0,c.jsxs)(r.tr,{children:[(0,c.jsx)(r.td,{children:"fecha_fin_contrato"}),(0,c.jsx)(r.td,{children:"DATE"}),(0,c.jsx)(r.td,{}),(0,c.jsx)(r.td,{children:"Fecha de fin del contrato."})]}),(0,c.jsxs)(r.tr,{children:[(0,c.jsx)(r.td,{children:"numero_anuncios"}),(0,c.jsx)(r.td,{children:"INT"}),(0,c.jsx)(r.td,{children:"DEFAULT 0"}),(0,c.jsx)(r.td,{children:"N\xfamero de anuncios contratados."})]}),(0,c.jsxs)(r.tr,{children:[(0,c.jsx)(r.td,{children:"precio_plan"}),(0,c.jsx)(r.td,{children:"DECIMAL(8,2)"}),(0,c.jsx)(r.td,{}),(0,c.jsx)(r.td,{children:"Precio total del plan contratado."})]}),(0,c.jsxs)(r.tr,{children:[(0,c.jsx)(r.td,{children:"contrato_url"}),(0,c.jsx)(r.td,{children:"VARCHAR(255)"}),(0,c.jsx)(r.td,{}),(0,c.jsx)(r.td,{children:"URL del contrato firmado."})]})]})]}),"\n",(0,c.jsxs)(r.h4,{id:"tabla-users",children:["Tabla: ",(0,c.jsx)(r.code,{children:"users"})]}),"\n",(0,c.jsxs)(r.table,{children:[(0,c.jsx)(r.thead,{children:(0,c.jsxs)(r.tr,{children:[(0,c.jsx)(r.th,{children:(0,c.jsx)(r.strong,{children:"Columna"})}),(0,c.jsx)(r.th,{children:(0,c.jsx)(r.strong,{children:"Tipo"})}),(0,c.jsx)(r.th,{children:(0,c.jsx)(r.strong,{children:"Restricciones"})}),(0,c.jsx)(r.th,{children:(0,c.jsx)(r.strong,{children:"Descripci\xf3n"})})]})}),(0,c.jsxs)(r.tbody,{children:[(0,c.jsxs)(r.tr,{children:[(0,c.jsx)(r.td,{children:"id"}),(0,c.jsx)(r.td,{children:"BIGINT (PK)"}),(0,c.jsx)(r.td,{children:"AUTO_INCREMENT"}),(0,c.jsx)(r.td,{children:"Identificador \xfanico del usuario."})]}),(0,c.jsxs)(r.tr,{children:[(0,c.jsx)(r.td,{children:"email"}),(0,c.jsx)(r.td,{children:"VARCHAR(255)"}),(0,c.jsx)(r.td,{children:"UNIQUE, NOT NULL"}),(0,c.jsx)(r.td,{children:"Correo electr\xf3nico del usuario."})]}),(0,c.jsxs)(r.tr,{children:[(0,c.jsx)(r.td,{children:"password"}),(0,c.jsx)(r.td,{children:"VARCHAR(255)"}),(0,c.jsx)(r.td,{children:"NOT NULL"}),(0,c.jsx)(r.td,{children:"Contrase\xf1a del usuario."})]}),(0,c.jsxs)(r.tr,{children:[(0,c.jsx)(r.td,{children:"tipo_usuario_id"}),(0,c.jsx)(r.td,{children:"BIGINT (FK)"}),(0,c.jsx)(r.td,{children:"Constrained"}),(0,c.jsxs)(r.td,{children:["Relaci\xf3n con la tabla ",(0,c.jsx)(r.code,{children:"tipo_usuario"}),"."]})]})]})]}),"\n",(0,c.jsxs)(r.h4,{id:"tabla-proyecto_cronograma_pagos",children:["Tabla: ",(0,c.jsx)(r.code,{children:"proyecto_cronograma_pagos"})]}),"\n",(0,c.jsxs)(r.table,{children:[(0,c.jsx)(r.thead,{children:(0,c.jsxs)(r.tr,{children:[(0,c.jsx)(r.th,{children:(0,c.jsx)(r.strong,{children:"Columna"})}),(0,c.jsx)(r.th,{children:(0,c.jsx)(r.strong,{children:"Tipo"})}),(0,c.jsx)(r.th,{children:(0,c.jsx)(r.strong,{children:"Restricciones"})}),(0,c.jsx)(r.th,{children:(0,c.jsx)(r.strong,{children:"Descripci\xf3n"})})]})}),(0,c.jsxs)(r.tbody,{children:[(0,c.jsxs)(r.tr,{children:[(0,c.jsx)(r.td,{children:"id"}),(0,c.jsx)(r.td,{children:"BIGINT (PK)"}),(0,c.jsx)(r.td,{children:"AUTO_INCREMENT"}),(0,c.jsx)(r.td,{children:"Identificador \xfanico del cronograma de pagos."})]}),(0,c.jsxs)(r.tr,{children:[(0,c.jsx)(r.td,{children:"proyecto_cliente_id"}),(0,c.jsx)(r.td,{children:"BIGINT (FK)"}),(0,c.jsx)(r.td,{children:"Constrained"}),(0,c.jsxs)(r.td,{children:["Relaci\xf3n con la tabla ",(0,c.jsx)(r.code,{children:"proyecto_clientes"}),"."]})]}),(0,c.jsxs)(r.tr,{children:[(0,c.jsx)(r.td,{children:"fecha_programada"}),(0,c.jsx)(r.td,{children:"DATE"}),(0,c.jsx)(r.td,{children:"NOT NULL"}),(0,c.jsx)(r.td,{children:"Fecha programada del pago."})]}),(0,c.jsxs)(r.tr,{children:[(0,c.jsx)(r.td,{children:"monto"}),(0,c.jsx)(r.td,{children:"DECIMAL(8,2)"}),(0,c.jsx)(r.td,{children:"NOT NULL"}),(0,c.jsx)(r.td,{children:"Monto programado para el pago."})]}),(0,c.jsxs)(r.tr,{children:[(0,c.jsx)(r.td,{children:"estado_pago_id"}),(0,c.jsx)(r.td,{children:"BIGINT (FK)"}),(0,c.jsx)(r.td,{children:"Constrained"}),(0,c.jsx)(r.td,{children:"Estado actual del pago (Pendiente, Pagado, etc.)."})]})]})]}),"\n",(0,c.jsxs)(r.h4,{id:"tabla-plan_user",children:["Tabla: ",(0,c.jsx)(r.code,{children:"plan_user"})]}),"\n",(0,c.jsxs)(r.table,{children:[(0,c.jsx)(r.thead,{children:(0,c.jsxs)(r.tr,{children:[(0,c.jsx)(r.th,{children:(0,c.jsx)(r.strong,{children:"Columna"})}),(0,c.jsx)(r.th,{children:(0,c.jsx)(r.strong,{children:"Tipo"})}),(0,c.jsx)(r.th,{children:(0,c.jsx)(r.strong,{children:"Restricciones"})}),(0,c.jsx)(r.th,{children:(0,c.jsx)(r.strong,{children:"Descripci\xf3n"})})]})}),(0,c.jsxs)(r.tbody,{children:[(0,c.jsxs)(r.tr,{children:[(0,c.jsx)(r.td,{children:"id"}),(0,c.jsx)(r.td,{children:"BIGINT (PK)"}),(0,c.jsx)(r.td,{children:"AUTO_INCREMENT"}),(0,c.jsx)(r.td,{children:"Identificador \xfanico del plan asignado al usuario."})]}),(0,c.jsxs)(r.tr,{children:[(0,c.jsx)(r.td,{children:"user_id"}),(0,c.jsx)(r.td,{children:"BIGINT (FK)"}),(0,c.jsx)(r.td,{children:"Constrained"}),(0,c.jsxs)(r.td,{children:["Relaci\xf3n con la tabla ",(0,c.jsx)(r.code,{children:"users"}),"."]})]}),(0,c.jsxs)(r.tr,{children:[(0,c.jsx)(r.td,{children:"plan_id"}),(0,c.jsx)(r.td,{children:"BIGINT (FK)"}),(0,c.jsx)(r.td,{children:"Constrained"}),(0,c.jsxs)(r.td,{children:["Relaci\xf3n con la tabla ",(0,c.jsx)(r.code,{children:"planes"}),"."]})]}),(0,c.jsxs)(r.tr,{children:[(0,c.jsx)(r.td,{children:"start_date"}),(0,c.jsx)(r.td,{children:"DATE"}),(0,c.jsx)(r.td,{}),(0,c.jsx)(r.td,{children:"Fecha de inicio del plan."})]}),(0,c.jsxs)(r.tr,{children:[(0,c.jsx)(r.td,{children:"end_date"}),(0,c.jsx)(r.td,{children:"DATE"}),(0,c.jsx)(r.td,{}),(0,c.jsx)(r.td,{children:"Fecha de fin del plan."})]}),(0,c.jsxs)(r.tr,{children:[(0,c.jsx)(r.td,{children:"typical_ads_remaining"}),(0,c.jsx)(r.td,{children:"INT"}),(0,c.jsx)(r.td,{children:"DEFAULT 0"}),(0,c.jsx)(r.td,{children:"Anuncios t\xedpicos restantes."})]})]})]}),"\n",(0,c.jsx)(r.hr,{}),"\n",(0,c.jsx)(r.h2,{id:"4-relaci\xf3n-de-tablas",children:"4. Relaci\xf3n de Tablas"}),"\n",(0,c.jsxs)(r.table,{children:[(0,c.jsx)(r.thead,{children:(0,c.jsxs)(r.tr,{children:[(0,c.jsx)(r.th,{children:(0,c.jsx)(r.strong,{children:"Tabla"})}),(0,c.jsx)(r.th,{children:(0,c.jsx)(r.strong,{children:"Relacionada Con"})}),(0,c.jsx)(r.th,{children:(0,c.jsx)(r.strong,{children:"Relaci\xf3n"})})]})}),(0,c.jsxs)(r.tbody,{children:[(0,c.jsxs)(r.tr,{children:[(0,c.jsx)(r.td,{children:(0,c.jsx)(r.code,{children:"proyecto_clientes"})}),(0,c.jsx)(r.td,{children:(0,c.jsx)(r.code,{children:"users"})}),(0,c.jsx)(r.td,{children:"Un cliente tiene un usuario asociado."})]}),(0,c.jsxs)(r.tr,{children:[(0,c.jsx)(r.td,{children:(0,c.jsx)(r.code,{children:"proyecto_cronograma_pagos"})}),(0,c.jsx)(r.td,{children:(0,c.jsx)(r.code,{children:"proyecto_clientes"})}),(0,c.jsx)(r.td,{children:"Un proyecto tiene m\xfaltiples pagos."})]}),(0,c.jsxs)(r.tr,{children:[(0,c.jsx)(r.td,{children:(0,c.jsx)(r.code,{children:"proyecto_cronograma_pagos"})}),(0,c.jsx)(r.td,{children:(0,c.jsx)(r.code,{children:"proyecto_pago_estados"})}),(0,c.jsx)(r.td,{children:"Un estado describe el estado actual del pago."})]})]})]}),"\n",(0,c.jsx)(r.hr,{}),"\n",(0,c.jsx)(r.h2,{id:"5-componentes-y-recursos-filament",children:"5. Componentes y Recursos Filament"}),"\n",(0,c.jsx)(r.h3,{id:"recurso-proyectoclienteresource",children:(0,c.jsxs)(r.strong,{children:["Recurso: ",(0,c.jsx)(r.code,{children:"ProyectoClienteResource"})]})}),"\n",(0,c.jsxs)(r.h4,{id:"ruta-appfilamentresourcesproyectoclienteresourcephp",children:["Ruta: ",(0,c.jsx)(r.code,{children:"app/Filament/Resources/ProyectoClienteResource.php"})]}),"\n",(0,c.jsx)(r.h4,{id:"formulario",children:(0,c.jsx)(r.strong,{children:"Formulario"})}),"\n",(0,c.jsxs)(r.p,{children:["El formulario de creaci\xf3n utiliza ",(0,c.jsx)(r.strong,{children:"Filament"})," para construir secciones y entradas din\xe1micas:"]}),"\n",(0,c.jsxs)(r.ol,{children:["\n",(0,c.jsxs)(r.li,{children:["\n",(0,c.jsxs)(r.p,{children:[(0,c.jsx)(r.strong,{children:"Secci\xf3n:"})," ",(0,c.jsx)(r.code,{children:"Informaci\xf3n de la Empresa"})]}),"\n",(0,c.jsxs)(r.ul,{children:["\n",(0,c.jsxs)(r.li,{children:[(0,c.jsx)(r.code,{children:"TextInput"}),":","\n",(0,c.jsxs)(r.ul,{children:["\n",(0,c.jsxs)(r.li,{children:[(0,c.jsx)(r.code,{children:"razon_social"})," - Campo obligatorio que valida longitud."]}),"\n",(0,c.jsxs)(r.li,{children:[(0,c.jsx)(r.code,{children:"ruc"})," - Campo obligatorio con validaci\xf3n num\xe9rica."]}),"\n",(0,c.jsxs)(r.li,{children:[(0,c.jsx)(r.code,{children:"direccion_fiscal"})," - Valida direcciones correctas."]}),"\n",(0,c.jsxs)(r.li,{children:[(0,c.jsx)(r.code,{children:"telefono_inmobiliaria"})," - Valida formato telef\xf3nico."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(r.li,{children:["\n",(0,c.jsxs)(r.p,{children:[(0,c.jsx)(r.strong,{children:"Secci\xf3n:"})," ",(0,c.jsx)(r.code,{children:"Representantes Legales"})]}),"\n",(0,c.jsxs)(r.ul,{children:["\n",(0,c.jsxs)(r.li,{children:[(0,c.jsx)(r.code,{children:"Repeater"}),":","\n",(0,c.jsxs)(r.ul,{children:["\n",(0,c.jsxs)(r.li,{children:["Campos como ",(0,c.jsx)(r.code,{children:"nombre"}),", ",(0,c.jsx)(r.code,{children:"tipo_documento"})," y ",(0,c.jsx)(r.code,{children:"estado_civil"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(r.li,{children:["\n",(0,c.jsxs)(r.p,{children:[(0,c.jsx)(r.strong,{children:"Secci\xf3n:"})," ",(0,c.jsx)(r.code,{children:"Datos del Contrato"})]}),"\n",(0,c.jsxs)(r.ul,{children:["\n",(0,c.jsxs)(r.li,{children:[(0,c.jsx)(r.code,{children:"DatePicker"})," para ",(0,c.jsx)(r.code,{children:"fecha_inicio_contrato"}),"."]}),"\n",(0,c.jsxs)(r.li,{children:[(0,c.jsx)(r.code,{children:"Select"})," con opciones din\xe1micas para ",(0,c.jsx)(r.code,{children:"periodo_plan"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(r.h3,{id:"recurso-createproyectocliente",children:(0,c.jsxs)(r.strong,{children:["Recurso: ",(0,c.jsx)(r.code,{children:"CreateProyectoCliente"})]})}),"\n",(0,c.jsxs)(r.h4,{id:"ruta-appfilamentresourcesproyectoclienteresourcepagescreateproyectoclientephp",children:["Ruta: ",(0,c.jsx)(r.code,{children:"app\\Filament\\Resources\\ProyectoClienteResource\\Pages\\CreateProyectoCliente.php"})]}),"\n",(0,c.jsxs)(r.p,{children:[(0,c.jsx)(r.strong,{children:"Prop\xf3sito:"}),(0,c.jsx)(r.br,{}),"\n","Gesti\xf3n completa de la creaci\xf3n de clientes del tipo ",(0,c.jsx)(r.strong,{children:"proyecto inmobiliario"}),", incluyendo validaciones, creaci\xf3n de usuarios asociados, generaci\xf3n de cronogramas de pago y manejo automatizado de contratos, todo mediante el framework Filament."]}),"\n",(0,c.jsx)(r.p,{children:(0,c.jsx)(r.strong,{children:"Funciones Principales:"})}),"\n",(0,c.jsxs)(r.ul,{children:["\n",(0,c.jsxs)(r.li,{children:["\n",(0,c.jsxs)(r.p,{children:[(0,c.jsx)(r.strong,{children:"Validaci\xf3n y Preparaci\xf3n de Datos:"}),(0,c.jsx)(r.br,{}),"\n","Utiliza el m\xe9todo ",(0,c.jsx)(r.code,{children:"mutateFormDataBeforeCreate"})," para validar datos clave como el correo y preparar informaci\xf3n adicional antes de guardar en la base de datos."]}),"\n"]}),"\n",(0,c.jsxs)(r.li,{children:["\n",(0,c.jsx)(r.p,{children:(0,c.jsx)(r.strong,{children:"Procesos Posteriores a la Creaci\xf3n:"})}),"\n",(0,c.jsxs)(r.ul,{children:["\n",(0,c.jsx)(r.li,{children:"Env\xeda credenciales al cliente y sus contactos habilitados."}),"\n",(0,c.jsx)(r.li,{children:"Gestiona la subida del contrato y actualiza su URL."}),"\n",(0,c.jsx)(r.li,{children:"Genera cronogramas de pago basados en el plan contratado."}),"\n",(0,c.jsxs)(r.li,{children:["Asocia al cliente con un plan activo mediante la tabla ",(0,c.jsx)(r.code,{children:"proyecto_planes_activos"}),"."]}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(r.li,{children:["\n",(0,c.jsxs)(r.p,{children:[(0,c.jsx)(r.strong,{children:"Notificaciones Autom\xe1ticas:"}),(0,c.jsx)(r.br,{}),"\n","Env\xeda notificaciones con credenciales al cliente y a sus contactos mediante el sistema de notificaciones de Laravel."]}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(r.h3,{id:"m\xe9todo-mutateformdatabeforecreate",children:(0,c.jsxs)(r.strong,{children:["M\xe9todo: ",(0,c.jsx)(r.code,{children:"mutateFormDataBeforeCreate"})]})}),"\n",(0,c.jsxs)(r.h4,{id:"ruta-createproyectoclientemutateformdatabeforecreate",children:["Ruta: ",(0,c.jsx)(r.code,{children:"CreateProyectoCliente@mutateFormDataBeforeCreate"})]}),"\n",(0,c.jsxs)(r.p,{children:[(0,c.jsx)(r.strong,{children:"Prop\xf3sito:"}),(0,c.jsx)(r.br,{}),"\n","Prepara y valida los datos del cliente antes de la creaci\xf3n del registro en la base de datos."]}),"\n",(0,c.jsx)(r.p,{children:(0,c.jsx)(r.strong,{children:"Flujo Principal:"})}),"\n",(0,c.jsxs)(r.ol,{children:["\n",(0,c.jsxs)(r.li,{children:["\n",(0,c.jsxs)(r.p,{children:[(0,c.jsx)(r.strong,{children:"Validaci\xf3n del Correo:"}),(0,c.jsx)(r.br,{}),"\n","Verifica que el correo no est\xe9 previamente registrado."]}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-php",children:"$this->validateUserEmail($data['user_email']);\n"})}),"\n"]}),"\n",(0,c.jsxs)(r.li,{children:["\n",(0,c.jsxs)(r.p,{children:[(0,c.jsx)(r.strong,{children:"Creaci\xf3n de Usuario:"}),(0,c.jsx)(r.br,{}),"\n","Genera un nuevo usuario asociado al cliente con contrase\xf1a aleatoria."]}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-php",children:"$user = User::create([\r\n    'email' => $data['user_email'],\r\n    'password' => Hash::make(Str::random(10)),\r\n]);\r\n$data['user_id'] = $user->id;\n"})}),"\n"]}),"\n",(0,c.jsxs)(r.li,{children:["\n",(0,c.jsxs)(r.p,{children:[(0,c.jsx)(r.strong,{children:"C\xe1lculo de Fechas:"}),(0,c.jsx)(r.br,{}),"\n","Calcula autom\xe1ticamente la fecha de finalizaci\xf3n del contrato en base a la duraci\xf3n seleccionada."]}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-php",children:"$data['fecha_fin_contrato'] = Carbon::parse($data['fecha_inicio_contrato'])\r\n    ->addMonths($data['periodo_plan']);\n"})}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(r.p,{children:[(0,c.jsx)(r.strong,{children:"Resumen:"}),(0,c.jsx)(r.br,{}),"\n","El m\xe9todo ",(0,c.jsx)(r.code,{children:"mutateFormDataBeforeCreate"})," es crucial para garantizar que los datos almacenados sean v\xe1lidos y que se asocien correctamente a otros recursos, como usuarios y contratos."]}),"\n",(0,c.jsx)(r.hr,{}),"\n",(0,c.jsx)(r.h2,{id:"7-historial-de-cambios",children:"7. Historial de Cambios"}),"\n",(0,c.jsxs)(r.table,{children:[(0,c.jsx)(r.thead,{children:(0,c.jsxs)(r.tr,{children:[(0,c.jsx)(r.th,{children:(0,c.jsx)(r.strong,{children:"Versi\xf3n"})}),(0,c.jsx)(r.th,{children:(0,c.jsx)(r.strong,{children:"Fecha"})}),(0,c.jsx)(r.th,{children:(0,c.jsx)(r.strong,{children:"Cambios Realizados"})}),(0,c.jsx)(r.th,{children:(0,c.jsx)(r.strong,{children:"Autor"})})]})}),(0,c.jsx)(r.tbody,{children:(0,c.jsxs)(r.tr,{children:[(0,c.jsx)(r.td,{children:"v1.0"}),(0,c.jsx)(r.td,{children:"05/12/2024"}),(0,c.jsx)(r.td,{children:"Documento t\xe9cnico inicial creado"}),(0,c.jsx)(r.td,{children:"Walker Alfaro"})]})})]})]})}function h(e={}){const{wrapper:r}={...(0,i.R)(),...e.components};return r?(0,c.jsx)(r,{...e,children:(0,c.jsx)(a,{...e})}):a(e)}},8453:(e,r,n)=>{n.d(r,{R:()=>d,x:()=>o});var s=n(6540);const c={},i=s.createContext(c);function d(e){const r=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function o(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:d(e.components),s.createElement(i.Provider,{value:r},e.children)}}}]);