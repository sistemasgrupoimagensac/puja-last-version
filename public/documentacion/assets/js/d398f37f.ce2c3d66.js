"use strict";(self.webpackChunkdocumentacion=self.webpackChunkdocumentacion||[]).push([[3241],{1281:(e,s,r)=>{r.r(s),r.d(s,{assets:()=>c,contentTitle:()=>t,default:()=>h,frontMatter:()=>l,metadata:()=>d,toc:()=>o});const d=JSON.parse('{"id":"tecnica/DT_Registro_Usuario","title":"Registro de Usuario","description":"1. Resumen del Flujo","source":"@site/docs/tecnica/DT_Registro_Usuario.md","sourceDirName":"tecnica","slug":"/tecnica/DT_Registro_Usuario","permalink":"/documentacion/docs/tecnica/DT_Registro_Usuario","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_label":"Registro de Usuario","sidebar_position":1,"title":"Registro de Usuario"},"sidebar":"documentationSidebar","previous":{"title":"Agregar GoogleSheet a Proyecto","permalink":"/documentacion/docs/funcional/DF_Agregar_GoogleSheet_Proyecto"},"next":{"title":"Registro con Google","permalink":"/documentacion/docs/tecnica/DT_Registro_Usuario_Google"}}');var i=r(4848),n=r(8453);const l={sidebar_label:"Registro de Usuario",sidebar_position:1,title:"Registro de Usuario"},t="Documento T\xe9cnico: Registro de Usuarios",c={},o=[{value:"1. Resumen del Flujo",id:"1-resumen-del-flujo",level:2},{value:"2. Requisitos Funcionales Relacionados",id:"2-requisitos-funcionales-relacionados",level:2},{value:"3. Base de Datos Relacionada",id:"3-base-de-datos-relacionada",level:2},{value:"Tablas Implicadas",id:"tablas-implicadas",level:3},{value:"Tabla: <code>users</code>",id:"tabla-users",level:4},{value:"Tabla: <code>tipos_usuario</code>",id:"tabla-tipos_usuario",level:4},{value:"Tabla: <code>tipos_documento</code>",id:"tabla-tipos_documento",level:4},{value:"4. APIs y Rutas Relacionadas",id:"4-apis-y-rutas-relacionadas",level:2},{value:"API: <code>POST /store</code>",id:"api-post-store",level:3},{value:"5. L\xf3gica del Controlador",id:"5-l\xf3gica-del-controlador",level:2},{value:"Controlador: <code>LoginController@store</code>",id:"controlador-logincontrollerstore",level:3},{value:"6. Historial de Cambios",id:"6-historial-de-cambios",level:2}];function a(e){const s={br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,n.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"documento-t\xe9cnico-registro-de-usuarios",children:"Documento T\xe9cnico: Registro de Usuarios"})}),"\n",(0,i.jsx)(s.h2,{id:"1-resumen-del-flujo",children:"1. Resumen del Flujo"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Descripci\xf3n del Flujo:"}),(0,i.jsx)(s.br,{}),"\n","Proceso para registrar nuevos usuarios en la plataforma, asign\xe1ndoles un perfil que les permita publicar inmuebles y acceder a funcionalidades espec\xedficas."]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Objetivo del Flujo:"}),(0,i.jsx)(s.br,{}),"\n","Proveer un mecanismo seguro y eficiente para registrar usuarios, asegurando que cada perfil cumpla con los requisitos necesarios para interactuar dentro del sistema."]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"2-requisitos-funcionales-relacionados",children:"2. Requisitos Funcionales Relacionados"}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:(0,i.jsx)(s.strong,{children:"ID"})}),(0,i.jsx)(s.th,{children:(0,i.jsx)(s.strong,{children:"Nombre del Requisito"})}),(0,i.jsx)(s.th,{children:(0,i.jsx)(s.strong,{children:"Descripci\xf3n"})})]})}),(0,i.jsx)(s.tbody,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"RF001"})}),(0,i.jsx)(s.td,{children:"Registro de Usuarios"}),(0,i.jsx)(s.td,{children:"Permitir a los usuarios registrarse con datos b\xe1sicos."})]})})]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"3-base-de-datos-relacionada",children:"3. Base de Datos Relacionada"}),"\n",(0,i.jsx)(s.h3,{id:"tablas-implicadas",children:"Tablas Implicadas"}),"\n",(0,i.jsxs)(s.h4,{id:"tabla-users",children:["Tabla: ",(0,i.jsx)(s.code,{children:"users"})]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Descripci\xf3n:"})," Almacena los datos de los usuarios registrados."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Estructura:"}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:(0,i.jsx)(s.strong,{children:"Columna"})}),(0,i.jsx)(s.th,{children:(0,i.jsx)(s.strong,{children:"Tipo"})}),(0,i.jsx)(s.th,{children:(0,i.jsx)(s.strong,{children:"Restricciones"})}),(0,i.jsx)(s.th,{children:(0,i.jsx)(s.strong,{children:"Descripci\xf3n"})})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"id"}),(0,i.jsx)(s.td,{children:"BIGINT (PK)"}),(0,i.jsx)(s.td,{children:"AUTO_INCREMENT"}),(0,i.jsx)(s.td,{children:"Identificador \xfanico del usuario."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"tipo_usuario_id"}),(0,i.jsx)(s.td,{children:"BIGINT (FK)"}),(0,i.jsxs)(s.td,{children:["Constrained a ",(0,i.jsx)(s.code,{children:"tipos_usuario"})]}),(0,i.jsx)(s.td,{children:"Rol asignado al usuario."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"codigo_unico"}),(0,i.jsx)(s.td,{children:"VARCHAR(200)"}),(0,i.jsx)(s.td,{children:"UNIQUE, Nullable"}),(0,i.jsx)(s.td,{children:"C\xf3digo \xfanico asociado al usuario."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"nombres"}),(0,i.jsx)(s.td,{children:"VARCHAR(200)"}),(0,i.jsx)(s.td,{children:"NOT NULL"}),(0,i.jsx)(s.td,{children:"Nombres del usuario."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"apellidos"}),(0,i.jsx)(s.td,{children:"VARCHAR(200)"}),(0,i.jsx)(s.td,{children:"Nullable"}),(0,i.jsx)(s.td,{children:"Apellidos del usuario."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"email"}),(0,i.jsx)(s.td,{children:"VARCHAR(150)"}),(0,i.jsx)(s.td,{children:"NOT NULL"}),(0,i.jsx)(s.td,{children:"Correo electr\xf3nico \xfanico del usuario."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"password"}),(0,i.jsx)(s.td,{children:"VARCHAR(255)"}),(0,i.jsx)(s.td,{children:"Nullable"}),(0,i.jsx)(s.td,{children:"Contrase\xf1a cifrada del usuario."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"google_id"}),(0,i.jsx)(s.td,{children:"VARCHAR(255)"}),(0,i.jsx)(s.td,{children:"Nullable"}),(0,i.jsx)(s.td,{children:"ID para autenticaci\xf3n con Google."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"tipo_documento_id"}),(0,i.jsx)(s.td,{children:"BIGINT (FK)"}),(0,i.jsxs)(s.td,{children:["Constrained a ",(0,i.jsx)(s.code,{children:"tipos_documento"})]}),(0,i.jsx)(s.td,{children:"Tipo de documento del usuario."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"numero_documento"}),(0,i.jsx)(s.td,{children:"VARCHAR(50)"}),(0,i.jsx)(s.td,{children:"Nullable"}),(0,i.jsx)(s.td,{children:"N\xfamero de documento del usuario."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"celular"}),(0,i.jsx)(s.td,{children:"VARCHAR(15)"}),(0,i.jsx)(s.td,{children:"Nullable"}),(0,i.jsx)(s.td,{children:"N\xfamero de celular."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"imagen"}),(0,i.jsx)(s.td,{children:"VARCHAR(255)"}),(0,i.jsx)(s.td,{children:"Nullable"}),(0,i.jsx)(s.td,{children:"URL de la imagen del usuario."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"estado"}),(0,i.jsx)(s.td,{children:"SMALLINT"}),(0,i.jsx)(s.td,{children:"DEFAULT 1"}),(0,i.jsx)(s.td,{children:"Estado del usuario (activo/inactivo)."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"email_verified_at"}),(0,i.jsx)(s.td,{children:"TIMESTAMP"}),(0,i.jsx)(s.td,{children:"Nullable"}),(0,i.jsx)(s.td,{children:"Fecha de verificaci\xf3n del correo."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"acepta_termino_condiciones"}),(0,i.jsx)(s.td,{children:"BOOLEAN"}),(0,i.jsx)(s.td,{children:"DEFAULT 1"}),(0,i.jsx)(s.td,{children:"Indica aceptaci\xf3n de t\xe9rminos."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"acepta_confidencialidad"}),(0,i.jsx)(s.td,{children:"BOOLEAN"}),(0,i.jsx)(s.td,{children:"DEFAULT 1"}),(0,i.jsx)(s.td,{children:"Indica aceptaci\xf3n de la confidencialidad."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"remember_token"}),(0,i.jsx)(s.td,{children:"VARCHAR(100)"}),(0,i.jsx)(s.td,{children:"Nullable"}),(0,i.jsx)(s.td,{children:"Token para recordar sesi\xf3n."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"created_at"}),(0,i.jsx)(s.td,{children:"TIMESTAMP"}),(0,i.jsx)(s.td,{children:"Nullable"}),(0,i.jsx)(s.td,{children:"Fecha de creaci\xf3n del registro."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"updated_at"}),(0,i.jsx)(s.td,{children:"TIMESTAMP"}),(0,i.jsx)(s.td,{children:"Nullable"}),(0,i.jsx)(s.td,{children:"Fecha de \xfaltima modificaci\xf3n."})]})]})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.h4,{id:"tabla-tipos_usuario",children:["Tabla: ",(0,i.jsx)(s.code,{children:"tipos_usuario"})]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Descripci\xf3n:"})," Define los diferentes roles asignables a los usuarios."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Estructura:"}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:(0,i.jsx)(s.strong,{children:"Columna"})}),(0,i.jsx)(s.th,{children:(0,i.jsx)(s.strong,{children:"Tipo"})}),(0,i.jsx)(s.th,{children:(0,i.jsx)(s.strong,{children:"Restricciones"})}),(0,i.jsx)(s.th,{children:(0,i.jsx)(s.strong,{children:"Descripci\xf3n"})})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"id"}),(0,i.jsx)(s.td,{children:"BIGINT (PK)"}),(0,i.jsx)(s.td,{children:"AUTO_INCREMENT"}),(0,i.jsx)(s.td,{children:"Identificador \xfanico del rol."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"tipo"}),(0,i.jsx)(s.td,{children:"VARCHAR(150)"}),(0,i.jsx)(s.td,{children:"NOT NULL"}),(0,i.jsx)(s.td,{children:"Nombre del tipo de usuario."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"estado"}),(0,i.jsx)(s.td,{children:"BOOLEAN"}),(0,i.jsx)(s.td,{children:"DEFAULT 1"}),(0,i.jsx)(s.td,{children:"Estado del tipo de usuario."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"created_at"}),(0,i.jsx)(s.td,{children:"TIMESTAMP"}),(0,i.jsx)(s.td,{children:"Nullable"}),(0,i.jsx)(s.td,{children:"Fecha de creaci\xf3n del registro."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"updated_at"}),(0,i.jsx)(s.td,{children:"TIMESTAMP"}),(0,i.jsx)(s.td,{children:"Nullable"}),(0,i.jsx)(s.td,{children:"Fecha de \xfaltima modificaci\xf3n."})]})]})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.h4,{id:"tabla-tipos_documento",children:["Tabla: ",(0,i.jsx)(s.code,{children:"tipos_documento"})]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Descripci\xf3n:"})," Almacena los tipos de documento que los usuarios pueden asociar."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Estructura:"}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:(0,i.jsx)(s.strong,{children:"Columna"})}),(0,i.jsx)(s.th,{children:(0,i.jsx)(s.strong,{children:"Tipo"})}),(0,i.jsx)(s.th,{children:(0,i.jsx)(s.strong,{children:"Restricciones"})}),(0,i.jsx)(s.th,{children:(0,i.jsx)(s.strong,{children:"Descripci\xf3n"})})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"id"}),(0,i.jsx)(s.td,{children:"BIGINT (PK)"}),(0,i.jsx)(s.td,{children:"AUTO_INCREMENT"}),(0,i.jsx)(s.td,{children:"Identificador \xfanico del tipo."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"documento"}),(0,i.jsx)(s.td,{children:"VARCHAR(150)"}),(0,i.jsx)(s.td,{children:"NOT NULL"}),(0,i.jsx)(s.td,{children:"Nombre del tipo de documento."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"estado"}),(0,i.jsx)(s.td,{children:"BOOLEAN"}),(0,i.jsx)(s.td,{children:"DEFAULT 1"}),(0,i.jsx)(s.td,{children:"Estado del tipo de documento."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"created_at"}),(0,i.jsx)(s.td,{children:"TIMESTAMP"}),(0,i.jsx)(s.td,{children:"Nullable"}),(0,i.jsx)(s.td,{children:"Fecha de creaci\xf3n del registro."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"updated_at"}),(0,i.jsx)(s.td,{children:"TIMESTAMP"}),(0,i.jsx)(s.td,{children:"Nullable"}),(0,i.jsx)(s.td,{children:"Fecha de \xfaltima modificaci\xf3n."})]})]})]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"4-apis-y-rutas-relacionadas",children:"4. APIs y Rutas Relacionadas"}),"\n",(0,i.jsxs)(s.h3,{id:"api-post-store",children:["API: ",(0,i.jsx)(s.code,{children:"POST /store"})]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Descripci\xf3n:"})," Endpoint para registrar nuevos usuarios en el sistema."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Par\xe1metros de Entrada:"})}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:(0,i.jsx)(s.strong,{children:"Par\xe1metro"})}),(0,i.jsx)(s.th,{children:(0,i.jsx)(s.strong,{children:"Tipo"})}),(0,i.jsx)(s.th,{children:(0,i.jsx)(s.strong,{children:"Obligatorio"})}),(0,i.jsx)(s.th,{children:(0,i.jsx)(s.strong,{children:"Descripci\xf3n"})})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"tipo_de_usuario"}),(0,i.jsx)(s.td,{children:"String"}),(0,i.jsx)(s.td,{children:"S\xed"}),(0,i.jsx)(s.td,{children:"Rol del usuario (owner, broker)."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"nombre"}),(0,i.jsx)(s.td,{children:"String"}),(0,i.jsx)(s.td,{children:"S\xed"}),(0,i.jsx)(s.td,{children:"Nombres del usuario."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"apellido"}),(0,i.jsx)(s.td,{children:"String"}),(0,i.jsx)(s.td,{children:"S\xed"}),(0,i.jsx)(s.td,{children:"Apellidos del usuario."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"email"}),(0,i.jsx)(s.td,{children:"String"}),(0,i.jsx)(s.td,{children:"S\xed"}),(0,i.jsx)(s.td,{children:"Correo electr\xf3nico \xfanico."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"contrase\xf1a"}),(0,i.jsx)(s.td,{children:"String"}),(0,i.jsx)(s.td,{children:"S\xed"}),(0,i.jsx)(s.td,{children:"Contrase\xf1a para la cuenta."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"tipo_documento"}),(0,i.jsx)(s.td,{children:"Integer"}),(0,i.jsx)(s.td,{children:"S\xed"}),(0,i.jsx)(s.td,{children:"Tipo de documento (1, 2, 3)."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"numero_de_documento"}),(0,i.jsx)(s.td,{children:"String"}),(0,i.jsx)(s.td,{children:"S\xed"}),(0,i.jsx)(s.td,{children:"N\xfamero de documento."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"telefono"}),(0,i.jsx)(s.td,{children:"Integer"}),(0,i.jsx)(s.td,{children:"S\xed"}),(0,i.jsx)(s.td,{children:"N\xfamero de celular (9 d\xedgitos)."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"direccion"}),(0,i.jsx)(s.td,{children:"String"}),(0,i.jsx)(s.td,{children:"S\xed"}),(0,i.jsx)(s.td,{children:"Direcci\xf3n del usuario."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"imagen"}),(0,i.jsx)(s.td,{children:"Archivo"}),(0,i.jsx)(s.td,{children:"No"}),(0,i.jsx)(s.td,{children:"Imagen de perfil."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"terminos"}),(0,i.jsx)(s.td,{children:"Boolean"}),(0,i.jsx)(s.td,{children:"S\xed"}),(0,i.jsx)(s.td,{children:"Aceptaci\xf3n de t\xe9rminos."})]})]})]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Respuestas:"})}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:(0,i.jsx)(s.strong,{children:"C\xf3digo"})}),(0,i.jsx)(s.th,{children:(0,i.jsx)(s.strong,{children:"Mensaje"})})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"201"}),(0,i.jsx)(s.td,{children:"Usuario registrado exitosamente."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"400"}),(0,i.jsx)(s.td,{children:'"El campo nombres es requerido."'})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"409"}),(0,i.jsx)(s.td,{children:'"El correo ya est\xe1 registrado en el sistema."'})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"422"}),(0,i.jsx)(s.td,{children:'"Errores de validaci\xf3n en los campos proporcionados."'})]})]})]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"5-l\xf3gica-del-controlador",children:"5. L\xf3gica del Controlador"}),"\n",(0,i.jsxs)(s.h3,{id:"controlador-logincontrollerstore",children:["Controlador: ",(0,i.jsx)(s.code,{children:"LoginController@store"})]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Descripci\xf3n:"})," Gestiona el registro de nuevos usuarios y asegura su correcto almacenamiento en la base de datos."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Pasos Principales:"})}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Validaci\xf3n de datos:"})," Verificar que los datos ingresados cumplan con las reglas establecidas."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Errores de validaci\xf3n:"})," Enviar mensajes de error en caso de inconsistencias."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Conversi\xf3n de datos:"})," Asignar el rol y procesar datos adicionales seg\xfan el tipo de usuario."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Registro:"})," Crear el usuario y asociar informaci\xf3n como la imagen de perfil."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Autenticaci\xf3n:"})," Iniciar sesi\xf3n autom\xe1ticamente despu\xe9s del registro."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"C\xf3digo Ejemplo:"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-php",children:"public function store(Request $request)\n{\n    // Validaci\xf3n de datos\n    $validator = Validator::make($request->all(), [\n        'email' => 'required|email|unique:users',\n        'password' => 'required|min:6',\n        'tipo_usuario' => 'required|exists:tipos_usuario,id',\n        'nombre' => 'required|string|max:255',\n        'telefono' => 'nullable|string|max:15',\n    ]);\n\n    if ($validator->fails()) {\n        return response()->json([\n            'message' => 'Errores de validaci\xf3n',\n            'errors' => $validator->errors()\n        ], 422);\n    }\n\n    // Registro de usuario\n    $user = User::create([\n        'email' => $request->email,\n        'password' => bcrypt($request->password),\n        'tipo_usuario_id' => $request->tipo_usuario,\n        'nombres' => $request->nombre,\n        'apellidos' => $request->apellido,\n        'celular' => $request->telefono,\n    ]);\n\n    // Manejo de imagen (opcional)\n    if ($request->hasFile('imagen')) {\n        $imagePath = $request->file('imagen')->store('images', 'public');\n        $user->update(['imagen' => $imagePath]);\n    }\n\n    // Autenticaci\xf3n y redirecci\xf3n\n    Auth::login($user);\n    event(new Registered($user));\n    return response()->json(['message' => 'Usuario registrado exitosamente'], 201);\n}\n\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"6-historial-de-cambios",children:"6. Historial de Cambios"}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:(0,i.jsx)(s.strong,{children:"Versi\xf3n"})}),(0,i.jsx)(s.th,{children:(0,i.jsx)(s.strong,{children:"Fecha"})}),(0,i.jsx)(s.th,{children:(0,i.jsx)(s.strong,{children:"Cambios Realizados"})}),(0,i.jsx)(s.th,{children:(0,i.jsx)(s.strong,{children:"Autor"})})]})}),(0,i.jsx)(s.tbody,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"v1.0"}),(0,i.jsx)(s.td,{children:"05/12/2024"}),(0,i.jsx)(s.td,{children:"Documento funcional inicial creado."}),(0,i.jsx)(s.td,{children:"Walker Alfaro"})]})})]})]})}function h(e={}){const{wrapper:s}={...(0,n.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},8453:(e,s,r)=>{r.d(s,{R:()=>l,x:()=>t});var d=r(6540);const i={},n=d.createContext(i);function l(e){const s=d.useContext(n);return d.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function t(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),d.createElement(n.Provider,{value:s},e.children)}}}]);